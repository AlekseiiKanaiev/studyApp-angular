<!-- The register component template contains a simple 
    registration form with fields for first name, last name, 
    username and password. 
    It displays validation messages for invalid fields when 
    the submit button is clicked. 
    The form submit event is bound to the onSubmit() method 
    of the register component. -->

<h2>Register</h2>
<form [formGroup]="registerForm" (ngSubmit) = "onSubmit()">
    <div class="form-group">
        <label for="firstName">First name</label>
        <input type="text" formControlName="firstName"
            class="form-control"
            [ngClass]="{'is-invalid': submitted && f.firstName.errors}">
        <div *ngIf="submitted && f.firstName.errors"
            class="invalid-feedback">
            <div *ngIf="f.firstName.errors.required">
                First name is required!
            </div>
        </div>
    </div>
    <div class="form-group">
        <label for="lastName">Last name</label>
        <input type="text" formControlName="lastName"
            class="form-control"
            [ngClass]="{'is-invalid': submitted && f.lastName.errors}">
        <div *ngIf="submitted && f.lastName.errors"
            class="invalid-feedback">
            <div *ngIf="f.lastName.errors.required">
                Last name is required!
            </div>
        </div>
    </div>
    <div class="form-group">
        <label for="userName">Username</label>
        <input type="text" formControlName="userName"
            class="form-control"
            [ngClass]="{'is-invalid': submitted && f.userName.errors}">
        <div *ngIf="submitted && f.userName.errors"
            class="invalid-feedback">
            <div *ngIf="f.userName.errors.required">
                Username is required!
            </div>
        </div>
    </div>
    <div class="form-group">
        <label for="password">Password</label>
        <input type="password" formControlName="password"
            class="form-control"
            [ngClass]="{'is-invalid': submitted && f.password.errors}">
        <div *ngIf="submitted && f.password.errors"
            class="invalid-feedback">
            <div *ngIf="f.password.errors.required">
                Password is required!
            </div>
            <div *ngIf="f.password.errors.minlength">
                Password must be at least 6 characters!
            </div>
        </div>
    </div>
    <div class="form-group">
        <button [disabled]="loading" class="btn btn-primary">Register</button>
        <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
        <a routerLink="/login" class="btn btn-link">Cancel</a>
    </div>
</form>
